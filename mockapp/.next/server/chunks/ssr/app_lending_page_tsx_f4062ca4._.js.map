{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/sahilkaushik/study_material/blockchain/foundry/perpchain/mockapp/app/lending/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\n\nconst mockTokens = [\n\t{ symbol: \"USDC\", address: \"0x0000000000000000000000000000000000000001\" },\n\t{ symbol: \"DAI\", address: \"0x0000000000000000000000000000000000000002\" },\n];\n\nexport default function LendingPage() {\n\tconst [selectedToken, setSelectedToken] = useState(mockTokens[0].address);\n\tconst [amount, setAmount] = useState(\"\");\n\tconst [userDeposits, setUserDeposits] = useState<Record<string, number>>({\n\t\t\"0x0000000000000000000000000000000000000001\": 2000,\n\t\t\"0x0000000000000000000000000000000000000002\": 1000,\n\t});\n\tconst [poolStats, setPoolStats] = useState<Record<string, { totalDeposits: number; interestRate: number }>>({\n\t\t\"0x0000000000000000000000000000000000000001\": { totalDeposits: 100000, interestRate: 3.5 },\n\t\t\"0x0000000000000000000000000000000000000002\": { totalDeposits: 50000, interestRate: 2.1 },\n\t});\n\tconst [message, setMessage] = useState(\"\");\n\n\tuseEffect(() => {\n\t\t// Dynamically inject Press Start 2P font from Google Fonts\n\t\tconst link = document.createElement(\"link\");\n\t\tlink.href = \"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap\";\n\t\tlink.rel = \"stylesheet\";\n\t\tdocument.head.appendChild(link);\n\t\treturn () => { document.head.removeChild(link); };\n\t}, []);\n\n\tfunction handleDeposit() {\n\t\tif (!amount || isNaN(Number(amount))) return setMessage(\"Enter a valid amount\");\n\t\tsetUserDeposits((d) => ({\n\t\t\t...d,\n\t\t\t[selectedToken]: d[selectedToken] + Number(amount),\n\t\t}));\n\t\tsetPoolStats((s) => ({\n\t\t\t...s,\n\t\t\t[selectedToken]: {\n\t\t\t\t...s[selectedToken],\n\t\t\t\ttotalDeposits: s[selectedToken].totalDeposits + Number(amount),\n\t\t\t},\n\t\t}));\n\t\tsetMessage(`Deposited ${amount} ${getSymbol(selectedToken)}`);\n\t\tsetAmount(\"\");\n\t}\n\n\tfunction handleWithdraw() {\n\t\tif (!amount || isNaN(Number(amount))) return setMessage(\"Enter a valid amount\");\n\t\tif (Number(amount) > userDeposits[selectedToken]) return setMessage(\"Insufficient balance\");\n\t\tsetUserDeposits((d) => ({\n\t\t\t...d,\n\t\t\t[selectedToken]: d[selectedToken] - Number(amount),\n\t\t}));\n\t\tsetPoolStats((s) => ({\n\t\t\t...s,\n\t\t\t[selectedToken]: {\n\t\t\t\t...s[selectedToken],\n\t\t\t\ttotalDeposits: s[selectedToken].totalDeposits - Number(amount),\n\t\t\t},\n\t\t}));\n\t\tsetMessage(`Withdrew ${amount} ${getSymbol(selectedToken)}`);\n\t\tsetAmount(\"\");\n\t}\n\n\tfunction getSymbol(address: string) {\n\t\treturn mockTokens.find((t) => t.address === address)?.symbol || \"?\";\n\t}\n\n\treturn (\n\t\t<div className=\"centered-container\">\n\t\t\t<div className=\"max-w-xl w-full\">\n\t\t\t\t<h1 className=\"text-3xl font-bold mb-4 shadow-title\">Lending</h1>\n\t\t\t\t<p className=\"text-gray-600 mb-6\">Deposit to or withdraw from the lending pool. View pool stats.</p>\n\t\t\t\t<div className=\"card mb-6\">\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<label className=\"block mb-1 font-medium\">Token</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\tvalue={selectedToken}\n\t\t\t\t\t\t\tonChange={(e) => setSelectedToken(e.target.value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{mockTokens.map((token) => (\n\t\t\t\t\t\t\t\t<option key={token.address} value={token.address}>\n\t\t\t\t\t\t\t\t\t{token.symbol}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<label className=\"block mb-1 font-medium\">Amount</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\t\tonChange={(e) => setAmount(e.target.value)}\n\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex gap-4\">\n\t\t\t\t\t\t<button onClick={handleDeposit}>Deposit</button>\n\t\t\t\t\t\t<button style={{ background: '#06b6d4' }} onClick={handleWithdraw}>Withdraw</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{message && <div className=\"mt-4 text-[#6366f1] font-semibold\">{message}</div>}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card mb-6\">\n\t\t\t\t\t<h2 className=\"text-xl font-semibold mb-2\">Your Deposits</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{mockTokens.map((token) => (\n\t\t\t\t\t\t\t<li key={token.address} className=\"mb-1\">\n\t\t\t\t\t\t\t\t<span className=\"font-mono\">{token.symbol}:</span> <span className=\"font-bold\">{userDeposits[token.address]}</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card\">\n\t\t\t\t\t<h2 className=\"text-xl font-semibold mb-2\">Pool Stats</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{mockTokens.map((token) => (\n\t\t\t\t\t\t\t<li key={token.address} className=\"mb-1\">\n\t\t\t\t\t\t\t\t<span className=\"font-mono\">{token.symbol}:</span> <span className=\"font-bold\">{poolStats[token.address].totalDeposits}</span> total,{\" \"}\n\t\t\t\t\t\t\t\t<span className=\"text-[#6366f1]\">{poolStats[token.address].interestRate}% APY</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}"],"names":[],"mappings":"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","debugId":null}}]
}